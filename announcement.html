<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>公告</title>
    <style>
        /* 添加自定义字体 */
        @font-face {
            font-family: 'YouSheTitleBlack';
            src: url('./优设标题黑.ttf') format('truetype');
        }
        @font-face {
            font-family: 'YiQiFont';
            src: url('./义启星空之翼.ttf') format('truetype');
        }

        /* 弹窗样式 */
        .popup {
            position: fixed;
            top: 50%; /* 确保弹窗垂直居中 */
            left: 50%; /* 确保弹窗水平居中 */
            transform: translate(-50%, -50%); /* 通过transform实现完全居中 */
            width: 300px;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            text-align: center;
            font-family: 'YiQiFont', 'Microsoft YaHei', sans-serif;
            z-index: 1001; /* 确保弹窗在最上层 */
        }
        .popup::after {
            content: "感谢晓怀提供技术支持！";
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 12px;
            color: #666;
        }
        .popup ul {
            text-align: left; /* 列表内容左对齐 */
            padding-left: 20px; /* 保持原有的缩进 */
        }
        .popup h2 {
            color: red;
            margin-bottom: 10px;
            font-family: 'YouSheTitleBlack', 'Microsoft YaHei', sans-serif;
            text-align: center; /* 新增居中样式 */
        }
        .popup p {
            color: gray;
            margin-bottom: 20px;
        }
        .popup button {
            background-color: blue;
            color: white;  /* 修改按钮字体颜色为白色 */
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'YiQiFont', 'Microsoft YaHei', sans-serif;
            margin-left: auto; /* 新增：将按钮居右 */
            display: block; /* 新增：确保按钮独占一行 */
        }
        .popup button:disabled {
            background-color: lightgray;
            cursor: not-allowed;
        }

        /* 动画过渡效果 */
        body {
            overflow: hidden;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        .fade-out {
            animation: fadeOut 0.5s ease forwards;
        }
        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="popup">
        <h2>公告</h2>
        <p>请仔细阅读以下公告内容：</p>
        <ul style="list-style-type: disc; padding-left: 20px;">
            <li>建议使用百度和谷歌浏览器，以获得最佳体验。</li>
            <li>本网页或应用为测试版，请勿用于正式环境。</li>
            <li>本网页或应用不提供任何形式的保证，包括但不限于正确性、安全性、可用性等。</li>
            <li>本网页或应用可能存在bug，请及时反馈。</li>
            <li>本网页或应用里的任何交易均为付款方的赠送行为，一经确认付款，概不负责。</li>
            <li>在本网页或应用中提供的任何信息，包括但不限于交易金额、网页内容，仅供学习参考，请勿用于任何非法用途。</li>
            <li>最终解释权归该网页或应用的作者所有。</li>
        </ul>
        <button id="confirmBtn" disabled>我已阅读并同意 (<span id="countdown">7</span>秒)</button>
    </div>

    <script>
        // 倒计时逻辑
        let countdown = 7;
        const countdownElement = document.getElementById('countdown');
        const confirmBtn = document.getElementById('confirmBtn');

        const timer = setInterval(() => {
            countdown--;
            countdownElement.textContent = countdown;
            if (countdown <= 0) {
                clearInterval(timer);
                confirmBtn.disabled = false;
                countdownElement.textContent = '';
                confirmBtn.textContent = '我已阅读并同意'; // 移除“（秒）”
            }
        }, 1000);

        // 确认按钮点击事件
        confirmBtn.addEventListener('click', () => {
            // 设置标志位，表示已经显示过公告
            localStorage.setItem('announcementShown', 'true');
            
            // 添加淡出动画
            document.body.classList.add('fade-out');
            
            // 延迟跳转以完成动画
            setTimeout(() => {
                window.location.href = 'index.html'; // 跳转到 index.html
            }, 500); // 延迟时间与动画持续时间一致
        });
    </script>
</body>
</html>